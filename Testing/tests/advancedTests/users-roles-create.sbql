begin;
/

delete user;
/
delete role;
/
delete userrole;
/
delete privilige;
/
delete student;
/
delete lecture;
/
delete lecturer;
/
delete schedule;
/

create "student" 	as student;
/
create "lecture" 	as lecture;
/
create "lecturer" 	as lecturer;
/
create "schedule"	as schedule;
/

create (
	    "user10" 		as name, 
	    "pass_user10"  	as password
	) as user;
/ 

create (
	    "user9" 		as name, 
	    "pass_user9"  	as password,
	    (ref (user where name="user10" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 

create (
	    "user8" 		as name, 
	    "pass_user8"  	as password,
	    (ref (user where name="user9" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user7" 		as name, 
	    "pass_user7"  	as password,
	    (ref (user where name="user8" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user6" 		as name, 
	    "pass_user6"  	as password,
	    (ref (user where name="user7" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
	
create (
	    "user5" 		as name, 
	    "pass_user5"  	as password,
	    (ref (user where name="user6" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user4" 		as name, 
	    "pass_user4"  	as password,
	    (ref (user where name="user5" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user3" 		as name, 
	    "pass_user3"  	as password,
	    (ref (user where name="user4" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user2" 		as name, 
	    "pass_user2"  	as password,
	    (ref (user where name="user3" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 
create (
	    "user1" 		as name, 
	    "pass_user1"  	as password,
	    (ref (user where name="user2" as leadsTo), 1 as inherit) as subuser
	) as user;
/ 

	
create (
	    "scott" as name, 
	    "tiger" as password,
	    (ref (user where name="user8" as leadsTo), 1 as inherit) as subuser,
	    (ref (user where name="user9" as leadsTo), 1  as inherit) as subuser,
	    (ref (user where name="user10" as leadsTo), 0 as inherit) as subuser	
	) as user;
/


create (
	    "dba"   	as name, 
	    "passdba"   as password,
	    (ref (user where name="scott" as leadsTo), 1  as inherit) as subuser,
	    (ref (user where name="user1" as leadsTo), 1  as inherit) as subuser,
	    (ref (user where name="user2" as leadsTo), 0 as inherit) as subuser,
	    (ref (user where name="user3" as leadsTo), 1  as inherit) as subuser,
	    (ref (user where name="user4" as leadsTo), 0 as inherit) as subuser,
	    (ref (user where name="user5" as leadsTo), 1  as inherit) as subuser,
	    (ref (user where name="user6" as leadsTo), 0 as inherit) as subuser
	) as user;
/


create ("dba_role"  as name)  as role;
/

create ("read_all_role" as name)    as role;
/
create ("modify_all_role" as name)  as role;
/
create ("create_all_role" as name)  as role;
/
create ("delete_all_role" as name)  as role;
/

create ("read_student_role" as name)    as role;
/
create ("modify_student_role" as name)  as role;
/
create ("create_student_role" as name)  as role;
/
create ("delete_student_role" as name)  as role;
/

create ("read_lecture_role" as name)    as role;
/
create ("modify_lecture_role" as name)  as role;
/
create ("create_lecture_role" as name)  as role;
/
create ("delete_lecture_role" as name)  as role;
/

create ("read_lecturer_role" as name)    as role;
/
create ("modify_lecturer_role" as name)  as role;
/
create ("create_lecturer_role" as name)  as role;
/
create ("delete_lecturer_role" as name)  as role;
/

create ("read_schedule_role" as name)  	 as role;
/
create ("modify_schedule_role" as name)  as role;
/
create ("create_schedule_role" as name)  as role;
/
create ("delete_schedule_role" as name)  as role;
/


create ( 
		ref(user where name = "dba") 			as user, 
		ref(role where name = "dba_role") 		as role
	)  
	as userrole;
/

create ( 
		ref(user where name = "scott") 			as user, 
		ref(role where name = "modify_all_role") 	as role
	)  	
	as userrole;
/
	
create ( 
		ref(user where name = "scott") 			as user, 
		ref(role where name = "modify_student_role") 	as role
	)  	
	as userrole;
/	

create ( 
		ref(user where name = "user1") 			as user,
		ref(role where name = "read_schedule_role")	as role
	)  	
	as userrole;
/	

create ( 
		ref(user where name = "user1") 			as user, 
		ref(role where name = "read_student_role") 	as role
	)  	
	as userrole;
/	

create ( 
		ref(user where name = "user2") 			as user, 
		ref(role where name = "modify_lecture_role") 	as role
	)  	
	as userrole;
/
	
create ( 
		ref(user where name = "user2") 			as user, 
		ref(role where name = "modify_lecturer_role")	as role
	)  	
	as userrole;
/	

create ( 
		ref(user where name = "user2") 			as user, 
		ref(role where name = "modify_schedule_role")	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user3") 			as user,
		ref(role where name = "create_student_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user3") 			as user,
		ref(role where name = "create_lecture_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user3") 			as user,
		ref(role where name = "create_lecturer_role")	as role 
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user3") 			as user,
		ref(role where name = "create_schedule_role")	as role		 
	)  	
	as userrole;
/


create ( 
		ref(user where name = "user4") 			as user, 
		ref(role where name = "delete_student_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user5") 			as user, 
		ref(role where name = "delete_student_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user6") 			as user, 
		ref(role where name = "delete_lecture_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user7") 			as user, 
		ref(role where name = "delete_lecturer_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user8") 			as user, 
		ref(role where name = "modify_schedule_role") 	as role
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user9") 			as user
	)  	
	as userrole;
/

create ( 
		ref(user where name = "user10")			as user, 
		ref(role where name = "read_schedule_role") 	as role
	)  	
	as userrole;
/

end;
/
		